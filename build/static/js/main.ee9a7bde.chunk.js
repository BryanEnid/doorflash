(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{149:function(e,t,n){},150:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n.n(a),r=n(13),s=n.n(r),i=(n(92),n(24)),l=n(28),o=n(25),u=n(7),m=n(27),d=(n(93),n(30)),h=n(8),p=n.n(h),f=n(16),g=(n(95),n(96),n(164)),b=n(84),w={display:"inline-block",margin:"30px auto"},E=function(e){function t(e){var n;return Object(i.a)(this,t),(n=Object(l.a)(this,Object(o.a)(t).call(this,e))).componentWillReceiveProps=function(e){n.setState({menu:e.menu.menu,store:e.menu.name,numberOfPages:e.menu.pagination.pages,actualPage:1,limit:e.menu.pagination.limit,itemsCount:e.menu.pagination.elementsCount})},n.handleSwitchForPagination=function(){n.setState({switch:!n.state.switch,menu:[],actualPage:1},function(){n.loading=!0,n.state.switch?n.fetchMoreItems():n.fetchMoreItems(1)})},n.componentDidMount=Object(f.a)(p.a.mark(function e(){var t;return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t=document.getElementById("loading"),window.addEventListener("scroll",function(e){var a=t.offsetTop-600;window.pageYOffset+window.innerHeight>=a&&!n.loading&&n.state.switch&&(n.loading=!0,n.fetchMoreItems())});case 2:case"end":return e.stop()}},e)})),n.fetchMoreItems=function(){var e=Object(f.a)(p.a.mark(function e(t){var a,c,r,s;return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.state.actualPage,t&&(a=t),e.prev=2,c=n.state.store,e.next=6,fetch("http://192.168.0.23:7070/partnerships/".concat(c,"/menu?skip=").concat(10*(a-1)));case 6:return r=e.sent,e.next=9,r.json();case 9:s=e.sent,s.success&&(t?n.setState({menu:Object(d.a)(s.menu),numberOfPages:s.pagination.pages,switch:n.state.switch,actualPage:t},function(){document.body.scrollTop=document.documentElement.scrollTop=0,n.loading=!1}):n.setState({menu:[].concat(Object(d.a)(n.state.menu),Object(d.a)(s.menu)),numberOfPages:s.pagination.pages,switch:n.state.switch,actualPage:n.state.actualPage+1},function(){n.loading=!1})),n.loading=!1,e.next=18;break;case 15:e.prev=15,e.t0=e.catch(2),console.log(e.t0);case 18:case"end":return e.stop()}},e,null,[[2,15]])}));return function(t){return e.apply(this,arguments)}}(),n.render=function(){return c.a.createElement("div",null,c.a.createElement("div",{className:"infinite"},c.a.createElement("div",null,c.a.createElement("p",null,"Infinite Scroll"),c.a.createElement(g.a,{checked:n.state.switch,color:"primary",onChange:n.handleSwitchForPagination}))),c.a.createElement("section",null,c.a.createElement("div",{className:"menuSections"},c.a.createElement("ul",null,c.a.createElement("div",{className:"arrow"},">"),c.a.createElement("li",null,"Popular Items"),c.a.createElement("li",null,"Value Menu"),c.a.createElement("li",null,"Drinks"),c.a.createElement("li",null,"Chicken"),c.a.createElement("li",null,"Sanswiches"),c.a.createElement("li",null,"Chicken"),c.a.createElement("li",null,"Sanswiches"))),c.a.createElement("div",{className:"menuContainer"},n.state.menu.map(function(e){var t=e.title,n=e.description,a=e.price,r=e.banner_image,s=e._id;return r?c.a.createElement("div",{className:"menuCards",key:s},c.a.createElement("img",{src:r,alt:r}),c.a.createElement("h2",{className:"title"},t),c.a.createElement("p",null,n),c.a.createElement("span",{className:"price"},a)):c.a.createElement("div",{className:"menuCards no_img",key:s},c.a.createElement("img",{src:"https://proxy.duckduckgo.com/iu/?u=https%3A%2F%2Fimages.puella-magi.net%2Fthumb%2F2%2F27%2FNo_Image_Wide.svg%2F800px-No_Image_Wide.svg.png%3F20110202071158&f=1"}),c.a.createElement("h2",{className:"title"},t),c.a.createElement("p",null,n),c.a.createElement("span",{className:"price"},a))}),0===n.state.menu.length&&c.a.createElement("div",{className:"menuCards"},c.a.createElement("h2",{className:"title"},"This section or entire website is having big changes by the original source (Doordash.com). These problems will be fixed soon, please come back later")))),c.a.createElement("div",{id:"loading"},!n.state.switch&&c.a.createElement(b.a,{current:n.state.actualPage,total:n.state.itemsCount,limit:10,onChange:n.fetchMoreItems,centerRipple:!0,style:w})))},n.state={menu:[],store:"",switch:!1,numberOfPages:0,actualPage:1,limit:10,itemsCount:0},n.loading=!1,n.fetchMoreItems=n.fetchMoreItems.bind(Object(u.a)(n)),n.handleSwitchForPagination=n.handleSwitchForPagination.bind(Object(u.a)(n)),n}return Object(m.a)(t,e),t}(a.Component),v=n(29),S=(n(149),function(e){function t(e){var n;return Object(i.a)(this,t),(n=Object(l.a)(this,Object(o.a)(t).call(this,e))).componentDidMount=Object(f.a)(p.a.mark(function e(){var t,a;return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("http://192.168.0.23:7070/partnerships");case 2:if(t=e.sent,a=[],200!==t.status){e.next=9;break}return e.next=7,t.json();case 7:a=e.sent,n.setState({fetchedStoreData:a,selectedMenu:a[0].name},function(){n.fetchMenuFromSelectedStore(n.state.selectedMenu,!0)});case 9:case"end":return e.stop()}},e)})),n.fetchMenuFromSelectedStore=function(){var e=Object(f.a)(p.a.mark(function e(t){var a,c=arguments;return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:a=c.length>1&&void 0!==c[1]&&c[1],c.length>2&&void 0!==c[2]&&c[2],(t!==n.state.selectedMenu||a)&&n.setState({selectedMenu:t},Object(f.a)(p.a.mark(function e(){var t,a,c,r,s;return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.state,a=t.selectedMenu,c=t.query,e.next=3,fetch("http://192.168.0.23:7070/partnerships/".concat(a,"/menu/").concat(c));case 3:if(r=e.sent,s={_id:"",name:"",menu:[],pagination:{elementsCount:0,pages:0,skip:0,limit:10,actualPage:1}},200!==r.status){e.next=9;break}return e.next=8,r.json();case 8:s=e.sent;case 9:n.setState({fetchedStoreMenu:s},function(){n.props.onSelectedStore(n.state.fetchedStoreMenu)});case 10:case"end":return e.stop()}},e)})));case 3:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),n.handleNewFetch=function(e){n.fetchMenuFromSelectedStore(e.currentTarget.dataset.storeName)},n.state={fetchedStoreData:[],fetchedStoreMenu:[],selectedMenu:"",query:"",banner_image:""},n.fetchMenuFromSelectedStore=n.fetchMenuFromSelectedStore.bind(Object(u.a)(n)),n.handleNewFetch=n.handleNewFetch.bind(Object(u.a)(n)),n}return Object(m.a)(t,e),Object(v.a)(t,[{key:"render",value:function(){var e=this;return c.a.createElement("div",{id:"storesSection"},c.a.createElement("ul",null,this.state.fetchedStoreData.map(function(t){var n=t.banner_image,a=t.title,r=t._id,s=t.name;return c.a.createElement("li",{key:r,className:"storesCard",onClick:e.handleNewFetch,"data-store-name":s},c.a.createElement("img",{src:n,alt:s+"_logo",className:"img"}),c.a.createElement("p",null,a))})))}}]),t}(a.Component)),O=function(e){function t(){var e;return Object(i.a)(this,t),(e=Object(l.a)(this,Object(o.a)(t).call(this))).handleMenu=function(t){e.setState({menu:t})},e.render=function(){return c.a.createElement("div",null,c.a.createElement(S,{name:"Stores",onSelectedStore:e.handleMenu}),c.a.createElement(E,{menu:e.state.menu}))},e.state={menu:[]},e.handleMenu=e.handleMenu.bind(Object(u.a)(e)),e}return Object(m.a)(t,e),t}(a.Component);s.a.render(c.a.createElement(O,{name:"Bryan"}),document.getElementById("root"))},87:function(e,t,n){e.exports=n(150)},92:function(e,t,n){},93:function(e,t,n){},95:function(e,t,n){},96:function(e,t,n){}},[[87,1,2]]]);
//# sourceMappingURL=main.ee9a7bde.chunk.js.map